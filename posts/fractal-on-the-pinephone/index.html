<!doctype html><html lang=en-us>
<head>
<title>Fractal on the Pinephone | Gamey</title>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta name=description content="A short guide to using the matrix client Fractal with encryption on the Pinephone.">
<meta name=generator content="Hugo 0.88.1">
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel=stylesheet href=/css/style.css>
<link rel="shortcut icon" href=/images/favicon.ico type=image/x-icon>
</head>
<body>
<nav class=navigation>
<a href=/> <span class=arrow>‚Üê</span>Home</a>
<a href=/posts>Archive</a>
<a href=/tags>Tags</a>
<a href=/about>About</a>
<a class=button href=https://gamey.tech/index.xml>Subscribe</a>
</nav>
<main class=main>
<section id=single>
<h1 class=title>Fractal on the Pinephone</h1>
<div class=tip>
<time datetime="2021-01-23 00:00:00 +0000 UTC">Jan 23, 2021</time>
<span class=split>
¬∑
</span>
<span>
571 words
</span>
<span class=split>
¬∑
</span>
<span>
3 minute read
</span>
</div>
<aside class=toc>
<details>
<summary>Table of Contents
</summary>
<div>
<nav id=TableOfContents>
<ul>
<li><a href=#pantalaimonhttpsgithubcommatrix-orgpantalaimon-for-encryption><a href=https://github.com/matrix-org/pantalaimon/>Pantalaimon</a> for Encryption</a></li>
<li><a href=#seahorsehttpswikignomeorgappsseahorse-as-workaround><a href=https://wiki.gnome.org/Apps/Seahorse>Seahorse</a> as workaround</a></li>
<li><a href=#more>More:</a>
<ul>
<li><a href=#screenshots>Screenshots:</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</details>
</aside>
<div class=content>
<p>Today I want to take a look at a fantastic Matrix client on the Pinephone and show you workarounds for it&rsquo;s main two issues. Fractal is a awesome Matrix client for Gnome and Phosh but it currently lacks support for encryption and on Phosh it can&rsquo;t open the Gnome Keyring (safe your login). Luckily there are workarounds for those two issues and those are what this post will focus on. If you want to know more about all current options to use Matrix on the Pinephone I made a post about them a while ago which is linked down below.</p>
<h2 id=pantalaimonhttpsgithubcommatrix-orgpantalaimon-for-encryption><a href=https://github.com/matrix-org/pantalaimon/ target=_blank rel=noopener>Pantalaimon</a> for Encryption <a href=#pantalaimonhttpsgithubcommatrix-orgpantalaimon-for-encryption class=anchor>üîó</a></h2><p>Pantalaimon is a E2EE aware deamon proxy for Matrix messengers. You can use it to enable E2EE in clients that actually don&rsquo;t have encryption implemented yet. You probably guessed it, I will show you how to use Pantalaimon for Fractal now so you can use it for secure chats.</p>
<ol>
<li>Before you can install Pantalaimon you need libolm (The matrix encryption library). If your distro provides a package for it use that and if not you can find instructions <a href=https://gitlab.matrix.org/matrix-org/olm/blob/master/README.md target=_blank rel=noopener>here</a>.</li>
<li>To install Pantalaimon I will use <a href=https://github.com/matrix-org/pantalaimon target=_blank rel=noopener>the source code</a> because the part of Pantalaimon that handles session verifying (panctl) broke a while ago and we need the latest version to fix that. Well I couldn&rsquo;t get it to work with thenewest version ether but probably my fault or something.</li>
<li>Now you need a configuration file for Pantalaimon which should be placed in <code>~/.config/pantalaimon/pantalaimon.conf</code> (You have to create the folder first). I will only make a minimal one but you can find more details on the configuration options <a href=https://github.com/matrix-org/pantalaimon/blob/master/docs/man/pantalaimon.5.md target=_blank rel=noopener>here</a>. A minimal config file for Pantalaimon looks like this:</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>[local-matrix]
Homeserver = https://yourhomeserver.xyz
ListenAddress = localhost
ListenPort = 8010
</code></pre></div><ol start=4>
<li>Now you can start the Pantalaimon deamon by simply typing <code>pantalaimon</code> in a Terminal (setting up auto start is probably a good idea but thats to distro specific for this post).</li>
<li>Now you can start Fractal and where your Homeserver would go you simply put http://localhost:8010 (I think it failed for me so I had to get the exact local address from the Pantalaimon deamon).</li>
<li>You could just stop here but there are a few optional steps left to verify your Pantalaimon session. To do so you will need a tool called panctl which should be included in Pantalaimon and a verified device. Sadly it refused to list the servers for me so ether I have been lied to about the fix in the latest version or I fucked up somewhere.</li>
</ol>
<h2 id=seahorsehttpswikignomeorgappsseahorse-as-workaround><a href=https://wiki.gnome.org/Apps/Seahorse target=_blank rel=noopener>Seahorse</a> as workaround <a href=#seahorsehttpswikignomeorgappsseahorse-as-workaround class=anchor>üîó</a></h2><p>The Gnome Wiki describes Seahorse as &ldquo;a GNOME application for managing encryption keys and passwords in the GNOME Keyring.&rdquo; The main point for us is that it unlocks the Gnome Keyring and since Fractal only has issues doing that we can use Seahorse as workaround.</p>
<ol>
<li>Install seahorse and fractal (should both be in all repos).</li>
<li>Start Fractal and log in like you usually would.</li>
<li>Now use <code>scale-to-fit seahorse</code> and check if it worked.</li>
<li>From now on you can always just unlock the &ldquo;Default keyring&rdquo; with Seahorse before starting Fractal!</li>
</ol>
<h2 id=more>More: <a href=#more class=anchor>üîó</a></h2><ul>
<li>I made a post about the different options to use Matrix on the Pinephone which you can find <a href>here</a>.</li>
<li>A detailed description of Pantalaimon can be found <a href=https://github.com/matrix-org/pantalaimon/blob/master/docs/man/pantalaimon.8.md target=_blank rel=noopener>here</a>.</li>
<li><a href=https://www.cogitri.dev/posts/10-pantalaimon-setup/ target=_blank rel=noopener>This</a> amazing blog post helped me a lot. It&rsquo;s a tutorial that shows how to install Pantalaimon for Fractal.</li>
</ul>
<h3 id=screenshots>Screenshots: <a href=#screenshots class=anchor>üîó</a></h3><p>Here are a few screenshots of Fractal and Seahorse.</p>
<table>
<thead>
<tr>
<th><p class=markdown-image>
<img src=https://gateway.pinata.cloud/ipfs/QmXKD8BAG5r2CAxtSWYs37L6UwpypoL77iiZCzxFKzK7Pt/20201017_04h05m22s_grim.png alt>
</p></th>
<th><p class=markdown-image>
<img src=https://gateway.pinata.cloud/ipfs/QmXKD8BAG5r2CAxtSWYs37L6UwpypoL77iiZCzxFKzK7Pt/20201218_12h50m36s_grim.png alt>
</p></th>
<th><p class=markdown-image>
<img src=https://gateway.pinata.cloud/ipfs/QmXKD8BAG5r2CAxtSWYs37L6UwpypoL77iiZCzxFKzK7Pt/20201017_04h09m00s_grim.png alt>
</p></th>
<th><p class=markdown-image>
<img src=https://gateway.pinata.cloud/ipfs/QmXKD8BAG5r2CAxtSWYs37L6UwpypoL77iiZCzxFKzK7Pt/20201017_04h05m22s_grim.png alt>
</p></th>
</tr>
</thead>
<tbody>
<tr>
<td><p class=markdown-image>
<img src=https://gateway.pinata.cloud/ipfs/QmTZukJAcsvxGJKDGJdppjm6fQMcrVCasaX2Xh8vusUqLN/20210123_15h51m23s_grim.png alt>
</p></td>
<td><p class=markdown-image>
<img src=https://gateway.pinata.cloud/ipfs/QmTZukJAcsvxGJKDGJdppjm6fQMcrVCasaX2Xh8vusUqLN/20210123_15h51m39s_grim.png alt>
</p></td>
<td><p class=markdown-image>
<img src=https://gateway.pinata.cloud/ipfs/QmTZukJAcsvxGJKDGJdppjm6fQMcrVCasaX2Xh8vusUqLN/20210123_15h52m47s_grim.png alt>
</p></td>
<td><p class=markdown-image>
<img src=https://gateway.pinata.cloud/ipfs/QmTZukJAcsvxGJKDGJdppjm6fQMcrVCasaX2Xh8vusUqLN/20210123_15h53m15s_grim.png alt>
</p></td>
</tr>
</tbody>
</table>
</div>
<div class=tags>
<a href=https://gamey.tech/tags/pinephone>Pinephone</a>
<a href=https://gamey.tech/tags/linux-phone>Linux Phone</a>
<a href=https://gamey.tech/tags/fractal>fractal</a>
</div>
<div id=comment>
</div>
</section>
</main>
<footer id=footer>
<div id=social>
<a class=symbol href=https://fosstodon.org/@gamey rel=me target=_blank><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentcolor" class="bi bi-mastodon" viewBox="0 0 16 16"><path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339.0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027.0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614.0 01-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804.0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727.0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856.0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74.0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"/></svg>
</a>
<a class=symbol href=https://twitter.com/gamey404 rel=me target=_blank><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentcolor" class="bi bi-twitter" viewBox="0 0 16 16"><path d="M5.026 15c6.038.0 9.341-5.003 9.341-9.334.0-.14.0-.282-.006-.422A6.685 6.685.0 0016 3.542a6.658 6.658.0 01-1.889.518 3.301 3.301.0 001.447-1.817 6.533 6.533.0 01-2.087.793A3.286 3.286.0 007.875 6.03 9.325 9.325.0 011.108 2.601a3.289 3.289.0 001.018 4.382A3.323 3.323.0 01.64 6.575v.045a3.288 3.288.0 002.632 3.218 3.203 3.203.0 01-.865.115 3.23 3.23.0 01-.614-.057 3.283 3.283.0 003.067 2.277A6.588 6.588.0 01.78 13.58 6.32 6.32.0 010 13.535 9.344 9.344.0 005.026 15z"/></svg>
</a>
</div>
<div class=copyright>
Blog by gamey ‚ù§Ô∏è
</div>
</footer>
</body>
<script async defer data-domain=gamey.tech src=https://stats.gamey.tech/js/plausible.js></script>
</html>